<html>
	<head>
		<title>Лаба 2.7</title>
		<script language="JavaScript">
			function calculating(){
				var from = document.getElementsByName("input")[0];
				var middle = document.getElementsByName("middle")[0];
				var lucky = document.getElementsByName("lucky")[0];
				var nise = document.getElementsByName("lol")[0];
				var good = document.getElementsByName("lol")[1];
				var bad = document.getElementsByName("lol")[2];
				var badly = document.getElementsByName("lol")[3];
				var i;
				var sum = 0;
				var luck = 0;
				var badly_i = 0;
				var bad_i = 0;
				var good_i = 0;
				var nise_i = 0;
				for(i=0;i<from.value.length;i++){
					if(from.value[i]>5 || from.value[i]<2){
						alert("Обнурженно некорректное значение " + from.value[i] + " на позиции " + i);
						continue;
					}
					sum += ~~from.value[i];
					switch(from.value[i]){
						case('2'):
							badly_i += 1;
						break;
						case('3'):
							bad_i += 1;
							++luck;
						break;
						case('4'):
							good_i += 1;
							++luck;
						break;
						case('5'):
							nise_i += 1;
							++luck;
						break;
					}					
				}
				lucky.value = luck;
				middle.value = sum/from.value.length;
				nise.value = nise_i;
				good.value = good_i;
				bad.value = bad_i;
				badly.value = badly_i;
			}
			function formCancel(){
				document.getElementsByName("input")[0].value = "";
				document.getElementsByName("middle")[0].value = "";
				document.getElementsByName("lucky")[0].value = "";
				document.getElementsByName("lol")[0].value = "";
				document.getElementsByName("lol")[1].value = "";
				document.getElementsByName("lol")[2].value = "";
				document.getElementsByName("lol")[3].value = "";
			}
		</script>
	</head>
	<body>
		<form>
			Введите оценки	<input type="textbox" name="input"></br>
			<input type="button" value="Выполнить" onClick="calculating();"></br>
			<p>Сводка по экзамену</p>
			<table border=1 cellspacing=0>
				<tr>
					<td><p align="center"><b>Оценка</b></p></td>
					<td><p align="center"><b>Число сдавших на оценку</b></p></td>
				</tr>
				<tr>
					<td><p align="center"><b>Отлично</b></p></td>
					<td align="center"><input type="textbox" name="lol" size=3></td>
				</tr>
				<tr>
					<td><p align="center"><b>Хорошо</b></p></td>
					<td align="center"><input type="textbox" name="lol" size=3></td>
				</tr>
				<tr>
					<td><p align="center"><b>Удовлетворительно</b></p></td>
					<td align="center"><input type="textbox" name="lol" size=3></td>
				</tr>
				<tr>
					<td><p align="center"><b>Неудовлетворительно</b></p></td>
					<td align="center"><input type="textbox" name="lol" size=3></td>
				</tr>
			</table>
			<p>Дополнительные сведения</p>
			Колличество сдавших <input type="textbox" name="lucky" size=4> Средний балл <input type="textbox" name="middle" size=5></br>
			<input type="button" value="Отменить" onClick="formCancel();"></br>
		</form>
	</body>
</html>